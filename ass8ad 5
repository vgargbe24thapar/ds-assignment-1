// Q5. Construct tree from Preorder + Inorder

#include <unordered_map>
using namespace std;

/*
Time Complexity:  O(n)
Space Complexity: O(n)
*/

Node* buildTreePreIn(vector<int>& preorder, int preStart, int preEnd,
                     vector<int>& inorder, int inStart, int inEnd,
                     unordered_map<int, int>& map) {

    if (preStart > preEnd || inStart > inEnd) return NULL;

    Node* root = new Node(preorder[preStart]);
    int inRoot = map[root->data];
    int numsLeft = inRoot - inStart;

    root->left = buildTreePreIn(preorder, preStart + 1, preStart + numsLeft,
                                inorder, inStart, inRoot - 1, map);
    root->right = buildTreePreIn(preorder, preStart + numsLeft + 1, preEnd,
                                 inorder, inRoot + 1, inEnd, map);
    return root;
}
